<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Buy Boutique</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body class="bg-gray-100">

    <!--  NAVBAR  -->
    <nav class="bg-white shadow-md fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-6">
        <div class="flex justify-between items-center h-16">

            <!-- LOGO -->
            <div class="flex items-center gap-2">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500"></div>
                <span class="font-bold text-xl text-gray-700">E-Buy</span>
            </div>

            <!-- DESKTOP MENU -->
            <div class="hidden md:flex items-center gap-6">
                <a href="/clients/client.html" class="text-gray-600 hover:text-purple-600">Home</a>

                <a href="/clients/favori.html" class="text-red-500 hover:text-red-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                        fill="currentColor" class="w-6 h-6">
                        <path d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 
                        1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 
                        3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 
                        9-12Z" />
                    </svg>
                </a>

                <a href="/clients/contact.html" class="text-gray-600 hover:text-purple-600">Contact</a>

                <button id="cartBtn"
                    class="relative flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6"
                        fill="none" viewBox="0 0 24 24"
                        stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 
                            1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218
                            c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 
                            0 0 0-16.536-1.84M7.5 14.25 5.106 
                            5.272M6 20.25a.75.75 0 1 1-1.5 0 
                            .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 
                            0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
                    </svg>
                    <span>Panier</span>
                    <span id="cartCount"
                        class="absolute -top-2 -right-2 bg-red-600 text-xs w-5 h-5 rounded-full flex items-center justify-center">
                        0
                    </span>
                </button>

                <button id="logoutBtn"
                    class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition">
                    Déconnecter
                </button>
            </div>

            <!-- MOBILE BUTTON -->
            <button id="menuBtn" class="md:hidden p-2">
                <svg xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6" fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>

        </div>
    </div>

    <!-- OVERLAY -->
    <div id="overlay"
        class="fixed inset-0 bg-black bg-opacity-50 hidden z-40">
    </div>

    <!-- MOBILE MENU -->
    <div id="mobileMenu"
        class="fixed top-0 right-0 h-full w-64 bg-white shadow-md
        transform translate-x-full transition-transform duration-300
        z-50 md:hidden p-4">

        <a href="/clients/client.html"
            class="block py-3 border-b">Home</a>

        <a href="/clients/favori.html"
            class="block py-3 border-b text-red-500">
            Favoris
        </a>

        <a href="/clients/contact.html"
            class="block py-3 border-b">Contact</a>

        <!-- PANIER MOBILE CORRIGÉ -->
        <div class="mt-4">
            <button id="cartBtnMobile"
                class="relative w-full flex items-center justify-center gap-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700">

                <svg xmlns="http://www.w3.org/2000/svg"
                    class="w-6 h-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M2.25 3h1.386c.51 0 .955.343 
                        1.087.835l.383 1.437M7.5 
                        14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218" />
                </svg>

                <span>Panier</span>

                <span id="cartCountMobile"
                    class="absolute -top-2 -right-2 bg-red-600 text-xs w-5 h-5 rounded-full flex items-center justify-center">
                    0
                </span>

            </button>
        </div>

        <button id="logoutBtn"
            class="w-full mt-4 bg-red-600 text-white py-2 rounded hover:bg-red-700 transition">
            Déconnecter
        </button>

    </div>
</nav>

    <div class="pt-24 max-w-7xl mx-auto px-6">
        <h2 class="text-2xl font-bold mb-6">Mes Favoris </h2>
        <div id="favoritesGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </div>



    <footer class=" bg-gray-100 text-gray-300 py-12 px-6 md:px-12 font-sans border-t border-gray-800 mt-5 ">
    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10">

      <div class="space-y-6 text-black font-bold">
        <div class="flex items-center gap-2">
          <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500"></div>
          <span class="font-bold text-xl text-gray-700">E-Buy</span>
        </div>
        <p class="text-sm leading-relaxed text-justify">
          EbuyApp est une application de commerce électronique qui permet aux utilisateurs de découvrir,
          comparer et acheter des produits en ligne. Elle offre une expérience utilisateur intuitive et
          sécurisée pour les achats en ligne. </p>
      </div>

      <div>
        <h3 class="text-black font-bold text-lg mb-4 border-b border-purple-600 pb-2 inline-block min-w-[100px]">
          Menu</h3>
        <ul class="space-y-4 mt-4">
          <li class="flex items-center group cursor-pointer hover:text-purple-600 text-black">
            <span class="mr-2 text-xs"></span>
            <a href="#" class="text-sm">Politique en matière de cookies</a>
          </li>
          <li class="flex items-center group cursor-pointer hover:text-purple-600 text-black">
            <span class="mr-2 text-xs">⌄</span>
            <a href="#" class="text-sm ">Politique de Confidentialité</a>
          </li>
        </ul>
      </div>

      <div>
        <h3 class="text-black font-bold text-lg mb-4 border-b border-purple-600 pb-2 inline-block min-w-[100px]">
          Nous Contacter</h3>
        <div class="mt-4 space-y-2 text-sm text-black">
          <p class="font-bold uppercase text-gray-700">EbuyApp</p>
          <p>Ngor Extension Lot N°430 TF 557</p>
          <p>Dakar, Sénégal</p>
          <p>Numéro : +221 33 000 00 00 / +221 77 000 00 00</p>
          <p>Email : <a href="mailto:senegal@EbuyApp.org"
              class="hover:text-purple-600 transition">senegal@EbuyApp.org</a></p>
        </div>

        <div class="flex space-x-3 mt-6">
          <a href="#"
            class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-400 transition">
            <i class="fab fa-twitter text-white text-xs"></i>
          </a>
          <a href="#"
            class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-600 transition">
            <i class="fab fa-facebook-f text-white text-xs"></i>
          </a>
          <a href="#"
            class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-pink-500 transition">
            <i class="fab fa-instagram text-white text-xs"></i>
          </a>
          <a href="#"
            class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-red-600 transition">
            <i class="fab fa-google text-white text-xs"></i>
          </a>
          <a href="#"
            class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-700 transition">
            <i class="fab fa-linkedin-in text-white text-xs"></i>
          </a>
        </div>
      </div>
    </div>

    <div class="mt-16 pt-8 border-t border-gray-800 text-center text-xs text-black">
      <p>© Copyright <span class="font-bold">EbuyApp</span> by senegal</p>
    </div>
  </footer>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {

            const grid = document.getElementById("favoritesGrid");
            const favorites = JSON.parse(localStorage.getItem("ebuy_favorites") || "[]");

            if (favorites.length === 0) {
                grid.innerHTML = "<p class='text-gray-500'>Aucun produit ajouté aux favoris.</p>";
                return;
            }

            favorites.forEach((product, index) => {

                const card = document.createElement("div");
                card.className = "bg-white rounded-xl shadow-md p-6 flex flex-col";

                card.innerHTML = `
            <div class="flex justify-center">
                <img src="${product.image}" class="w-full h-36 object-contain">
            </div>
            <div class="mt-4 flex-1">
                <p class="font-semibold text-gray-700">${product.name}</p>
                <p class="text-sm text-gray-500 mt-1">${product.description || ""}</p>
                <p class="font-bold mt-2">${product.price} FCFA</p>
            </div>
            <div class="mt-4 flex gap-2">
                <button class="flex-1 bg-black text-white py-2 rounded addToCart">Ajouter au panier</button>
                <button class="flex-1 bg-red-600 text-white py-2 rounded removeFav">Supprimer</button>
            </div>
        `;

                // Ajouter au panier
                card.querySelector(".addToCart").onclick = () => {
                    const cart = JSON.parse(localStorage.getItem("ebuy_cart") || "[]");

                    const existing = cart.find(p => p.id === product.id);

                    if (existing) {
                        existing.quantity++;
                    } else {
                        cart.push({ ...product, quantity: 1 });
                    }

                    localStorage.setItem("ebuy_cart", JSON.stringify(cart));
                    alert("Produit ajouté au panier");
                };

                // Supprimer des favoris
                card.querySelector(".removeFav").onclick = () => {

                    favorites.splice(index, 1);
                    localStorage.setItem("ebuy_favorites", JSON.stringify(favorites));
                    location.reload();
                };

                grid.appendChild(card);
            });

        });
    </script>

    <script src="/clients/client.js"></script>
</body>

</html>